:original_name: en-dc_topic_0055025315.html

.. _en-dc_topic_0055025315:

Creating a Connection
=====================

Function
--------

This API is used to create a connection.

.. note::

   #. When you create a hosted connection that does not need to be confirmed, set **Status** to **ACCEPT**.
   #. The bandwidth of a hosted connection cannot exceed that of the associated operations connection.

URI
---

POST /v2.0/dcaas/direct-connects

.. table:: **Table 1** Parameter description

   +----------------+---------------------------+-----------+------------------------------------------+
   | Parameter      | Type                      | Mandatory | Description                              |
   +================+===========================+===========+==========================================+
   | direct_connect | Dictionary data structure | Yes       | Specifies the **direct_connect** object. |
   +----------------+---------------------------+-----------+------------------------------------------+

Request
-------

:ref:`Table 2 <en-dc_topic_0055025315__table26517876>` lists the **direct_connect** request parameters.

.. _en-dc_topic_0055025315__table26517876:

.. table:: **Table 2** Request parameters

   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Type            | Mandatory       | Description                                                                                                                                                                              |
   +=================+=================+=================+==========================================================================================================================================================================================+
   | tenant_id       | String          | No              | Specifies the project ID.                                                                                                                                                                |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name            | String          | No              | Specifies the connection name.                                                                                                                                                           |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description     | String          | No              | Provides supplementary information about the connection.                                                                                                                                 |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | port_type       | String          | Yes             | Specifies the type of the port used by the connection. The value can be **1G** or **10G**.                                                                                               |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | bandwidth       | Integer         | Yes             | Specifies the connection bandwidth in Mbit/s.                                                                                                                                            |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | location        | String          | Yes             | Specifies the connection access location.                                                                                                                                                |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | peer_location   | String          | No              | Specifies the physical location of the peer device accessed by the connection, specific to the street or data center name.                                                               |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | device_id       | String          | No              | Specifies the gateway device ID of the connection.                                                                                                                                       |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | interface_name  | String          | No              | Specifies the name of the interface accessed by the connection.                                                                                                                          |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | redundant_id    | String          | No              | Specifies the ID of the redundant connection using the same gateway.                                                                                                                     |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | provider        | String          | Yes             | Specifies the carrier who provides the leased line.                                                                                                                                      |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | provider_status | String          | No              | Specifies the status of the carrier's leased line.                                                                                                                                       |
   |                 |                 |                 |                                                                                                                                                                                          |
   |                 |                 |                 | The value can be **ACTIVE** or **DOWN**.                                                                                                                                                 |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | type            | String          | No              | Specifies the connection type. The value can be **hosted**.                                                                                                                              |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | hosting_id      | String          | No              | Specifies the ID of the operations connection on which the hosted connection is created.                                                                                                 |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vlan            | Integer         | No              | Specifies the VLAN pre-allocated to the hosted connection.                                                                                                                               |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | charge_mode     | String          | No              | Specifies the billing mode. The value can be **prepayment**, **bandwidth**, or **traffic**.                                                                                              |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | order_id        | String          | No              | Specifies the order number of the connection.                                                                                                                                            |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | product_id      | String          | No              | Specifies the product ID corresponding to the connection's order.                                                                                                                        |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status          | String          | No              | Specifies the connection status.                                                                                                                                                         |
   |                 |                 |                 |                                                                                                                                                                                          |
   |                 |                 |                 | The value can be **ACTIVE**, **DOWN**, **BUILD**, **ERROR**, **PENDING_DELETE**, **DELETED**, **APPLY**, **DENY**, **PENDING_PAY**, **PAID**, **ORDERING**, **ACCEPT,** or **REJECTED**. |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | admin_state_up  | Boolean         | No              | Specifies the administrative status of the connection.                                                                                                                                   |
   |                 |                 |                 |                                                                                                                                                                                          |
   |                 |                 |                 | The value can be **true** or **false**.                                                                                                                                                  |
   +-----------------+-----------------+-----------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Response
--------

:ref:`Table 3 <en-dc_topic_0055025315__table50787760154022>` lists the response parameter.

.. _en-dc_topic_0055025315__table50787760154022:

.. table:: **Table 3** Response parameter

   +----------------+---------------------------+------------------------------------------+
   | Parameter      | Type                      | Description                              |
   +================+===========================+==========================================+
   | direct_connect | Dictionary data structure | Specifies the **direct_connect** object. |
   +----------------+---------------------------+------------------------------------------+

.. table:: **Table 4** Description of field **direct_connect**

   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                                                               |
   +=======================+=======================+===========================================================================================================================================================================================================================+
   | id                    | String                | Specifies the connection ID.                                                                                                                                                                                              |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tenant_id             | String                | Specifies the project ID.                                                                                                                                                                                                 |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                | Specifies the connection name.                                                                                                                                                                                            |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description           | String                | Provides supplementary information about the connection.                                                                                                                                                                  |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | port_type             | String                | Specifies the type of the port used by the connection. The value can be **1G** or **10G**.                                                                                                                                |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | bandwidth             | Integer               | Specifies the bandwidth of the connection in Mbit/s.                                                                                                                                                                      |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | location              | String                | Specifies the connection access location.                                                                                                                                                                                 |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | peer_location         | String                | Specifies the physical location of the peer device accessed by the connection, specific to the street or data center name.                                                                                                |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | device_id             | String                | Specifies the gateway device ID of the connection.                                                                                                                                                                        |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | interface_name        | String                | Specifies the name of the interface accessed by the connection.                                                                                                                                                           |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | redundant_id          | String                | Specifies the ID of the redundant connection using the same gateway.                                                                                                                                                      |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | provider              | String                | Specifies the carrier who provides the leased line.                                                                                                                                                                       |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | provider_status       | String                | Specifies the status of the carrier's leased line. The value can be **ACTIVE** or **DOWN**.                                                                                                                               |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | type                  | String                | Specifies the connection type. The value can be **hosted**.                                                                                                                                                               |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | hosting_id            | String                | Specifies the ID of the operations connection on which the hosted connection is created.                                                                                                                                  |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | vlan                  | Integer               | Specifies the pre-allocated VLAN to the hosted connection.                                                                                                                                                                |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | charge_mode           | String                | Specifies the billing mode. The value can be **prepayment**, **bandwidth**, or **traffic**.                                                                                                                               |
   |                       |                       |                                                                                                                                                                                                                           |
   |                       |                       | Its value is left blank by default.                                                                                                                                                                                       |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | apply_time            | String                | Specifies the time when the connection is requested.                                                                                                                                                                      |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | create_time           | String                | Specifies the time when the connection is created.                                                                                                                                                                        |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | delete_time           | String                | Specifies the time when the connection is deleted.                                                                                                                                                                        |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | order_id              | String                | Specifies the order number of the connection.                                                                                                                                                                             |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | product_id            | String                | Specifies the product ID corresponding to the connection's order.                                                                                                                                                         |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | status                | String                | Specifies the connection status. The value can be **ACTIVE**, **DOWN**, **BUILD**, **ERROR**, **PENDING_DELETE**, **DELETED**, **APPLY**, **DENY**, **PENDING_PAY**, **PAID**, **ORDERING**, **ACCEPT**, or **REJECTED**. |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | admin_state_up        | Boolean               | Specifies the administrative status of the connection.                                                                                                                                                                    |
   |                       |                       |                                                                                                                                                                                                                           |
   |                       |                       | The value can be **true** or **false**.                                                                                                                                                                                   |
   +-----------------------+-----------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Examples
--------

-  Example request

   .. code-block:: text

      POST /v2.0/dcaas/direct-connects
      {
          "direct_connect" : {
              "name" : "direct connect1",
              "port_type" : "10G",
              "bandwidth" : 100,
              "location" : "Biere",
              "device_id" : "172.16.40.2",
              "provider" : "OTC"
          }
      }

-  Example response

   .. code-block::

      {
          "direct_connect" : {
              "bandwidth" : 100,
              "create_time": "2018-10-19 09:53:26.389556",
              "port_type" : "10G",
              "id" : "6ecd9cf3-ca64-46c7-863f-f2eb1b9e838a",
              "apply_time": "2018-10-19 09:53:26.389556",
              "peer_location": "",
              "delete_time": null,
              "location" : "Biere",
              "provider" : "OTC"
              "interface_name": "Eth-Trunk2",
              "type": "standard",
              "status": "BUILD",
              "description" : "",
              "provider_status": "ACTIVE", "order_id": "", "vlan": null,
              "device_id" : "172.16.40.2",
              "name" : "direct connect1",
              "admin_state_up": true,
              "tenant_id" : "6fbe9263116a4b68818cf1edce16bc4f",
              "redundant_id": null,
              "hosting_id": null,
              "product_id": "",
              "charge_mode": ""
          }
      }

Returned Value
--------------

For details, see section :ref:`Common Returned Values <en-dc_topic_0055025342>`.
